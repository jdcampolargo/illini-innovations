<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>MAPMAP</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">

<!-- Mapbox -->
<link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>


<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
    #marker {
        background-image: url('https://upload.wikimedia.org/wikipedia/commons/e/ed/Platovterm1981.jpg');
        background-size: cover;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        cursor: pointer;
    }

    /* #marker1 {
        background-image: url('https://upload.wikimedia.org/wikipedia/commons/0/02/PLATO_chem_exp.jpg');
        background-size: cover;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        cursor: pointer;
    } */


.carousel {
  /* width: 50%; */
  height: auto;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}


.carousel img {
  width: 50%;
  height: 50%;
  object-fit: cover;
  border-radius: 20%;



}

    .mapboxgl-popup {
  max-width: 200px;
    }

    /* button {
  padding: 10px 20px;
  border: none;
  background-color: #2f80ed;
  color: #fff;
  font-size: 18px;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1px;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #fffb00;
} */

.button-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
}

.button {
  background-color: #4CAF50;
  border: none;
  color: white;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  border-radius: 5px;
  cursor: pointer;
}

.button:hover {
  background-color: #3e8e41;
}

.street-view {
  background-color: #ff8c00;
}

.learn-more {
  background-color: #008CBA;
}

.more-options {
  background-color: #f44336;
}

.more-options:hover {
  background-color: #d32f2f;
}

.more-options:after {
  content: "\25BC";
  display: inline-block;
  margin-left: 5px;
}

.more-options:hover:after {
  transform: rotate(180deg);
}

@media (max-width: 768px) {
  .button-container {
    flex-direction: column;
    gap: 5px;
  }

  .youtube-preview {
  max-width: 300px;
  text-align: center;
}

.youtube-preview h2 {
  font-size: 1.2rem;
  margin: 0;
  padding: 0;
}

.youtube-preview img {
  display: block;
  margin: 0 auto;
  max-width: 100%;
  height: auto;
  border: 0;
}

}



</style>

<div id="map"></div>



<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiamRjYW1wb2xhcmdvIiwiYSI6ImNreHMzZXh4cTRyOGcydW80aWcyc2ZrMXMifQ.SqgAQ26kdjR4jA4EcGnWCQ';
    const UIUC = [-88.228333, 40.110558];
    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/streets-v12',
        center: UIUC,
        zoom: 16, // starting zoom
        pitch: 50, // pitch in degrees
      //  bearing: -17.6, // bearing in degrees
        antialias: true // smooth edges


    });
    
// Set the coordinates and video IDs for the markers
const markerData = [
  {
    coordinates: [-88.2271436841917, 40.108160345635575],
    videoId: 'cShewypo7PY'
  },
  {
    coordinates: [-88.23029561086127, 40.102495452798694],
    videoId: 'gW7V5oJt6eM'
  }
];

// Loop through the marker data and create a marker for each one
markerData.forEach(marker => {
  // Get the YouTube video ID from the marker data
  const videoId = marker.videoId;

  // Set the URL for the YouTube Data API
  const apiUrl = `https://www.googleapis.com/youtube/v3/videos?id=${videoId}&key=YOUR_API_KEY&part=snippet`;

  // Create a custom popup with the YouTube preview
  const popupHtml = `
    <div class="youtube-preview">
      <h2>Stephen Wolfram</h2>
      <a href="https://www.youtube.com/watch?v=${videoId}" target="_blank">
        <img src="https://img.youtube.com/vi/${videoId}/mqdefault.jpg" alt="Video Thumbnail">
        <div class="video-title"></div>
      </a>
    </div>
  `;

  const popup = new mapboxgl.Popup({
    closeButton: true,
    closeOnClick: true
  }).setHTML(popupHtml);

  // Create the marker and set its coordinates
  const markerObject = new mapboxgl.Marker()
    .setLngLat(marker.coordinates)
    .addTo(map)
    .setPopup(popup);

  // Get the video title from the YouTube Data API and set it in the popup
  fetch(apiUrl)
    .then(response => response.json())
    .then(data => {
      const videoTitle = data.items[0].snippet.title;
      const videoTitleElement = popup.getElement().querySelector('.video-title');
      videoTitleElement.textContent = videoTitle;
    });

  // Add an event listener to the marker to show the popup on click
  markerObject.getElement().addEventListener('click', () => {
    popup.addTo(map);
  });
  
});

function createMarker(videoId, lng, lat, name) {
  const videoThumbnailUrl = `https://img.youtube.com/vi/${videoId}/0.jpg`;
  const popup = new mapboxgl.Popup({ offset: 25 }).setText(name);

  const el = document.createElement('div');
  el.style.backgroundImage = `url(${videoThumbnailUrl})`;
  el.style.backgroundSize = 'cover';
  el.style.width = '50px';
  el.style.height = '50px';
  el.style.borderRadius = '50%';
  el.style.cursor = 'pointer';

  new mapboxgl.Marker(el)
    .setLngLat([lng, lat])
    .setPopup(popup)
    .addTo(map);
}

// Example usage
createMarker('cShewypo7PY', -88.22622861503689, 40.11211263718405, 'Rick Astley - Never Gonna Give You Up');




//       // Set the coordinates for the marker
// const coordinates = [-88.2271436841917, 40.108160345635575];

// // Get the YouTube video ID from the URL
// const videoId = 'cShewypo7PY';

// // Set the URL for the YouTube Data API
// const apiUrl = `https://www.googleapis.com/youtube/v3/videos?id=${videoId}&key=AIzaSyD0sdltLLBQ56dN8fVQpKGmyObdfKUf3kc&part=snippet`;

// // Create a custom popup with the YouTube preview
// const popupHtml = `
// <div class="youtube-preview">
//   <h2>Stephen Wolfram</h2>
//     <a href="https://www.youtube.com/watch?v=${videoId}" target="_blank">
//       <img src="https://img.youtube.com/vi/${videoId}/mqdefault.jpg" alt="Video Thumbnail">
//       <div class="video-title"></div>
  
//     </a>
//   </div>
// `;







// const popup = new mapboxgl.Popup({
//   closeButton: true,
//   closeOnClick: true
// }).setHTML(popupHtml);

// // Add the marker to the map and bind the popup to it
// const marker = new mapboxgl.Marker()
//   .setLngLat(coordinates)
//   .addTo(map)
//   .setPopup(popup);

// // Get the video title from the YouTube Data API and set it in the popup
// fetch(apiUrl)
//   .then(response => response.json())
//   .then(data => {
//     const videoTitle = data.items[0].snippet.title;
//     const videoTitleElement = popup.getElement().querySelector('.video-title');
//     videoTitleElement.textContent = videoTitle;
//   });

// // Add an event listener to the marker to show the popup on click
// marker.getElement().addEventListener('click', () => {
//   popup.addTo(map);
// });





  


//     const popupContent = {
//   'marker1': `
//     <h3>Illini Innovations</h3>
//     <p>1234 Innovation Drive</p>
//   `,
//   'marker2': `
//     <h3>Illini Innovations</h3>
//     <p>Description of the place goes here.</p>
//     <p><a href="https://example.com">Learn more</a></p>
//     <ul>
//       <li>Similar place 1</li>
//       <li>Similar place 2</li>
//       <li>Similar place 3</li>
//     </ul>
//     <button onclick="showStreetView()">Street View</button>
//   `,
//   'marker3': `
//     <h3>DRES</h3>
//     <p>1234 Innovation Drive</p>
//   `,
//   'PLATO': `
//     <h2>PLATO</h2>
//     <p>PLATO (Programmed Logic for Automated Teaching Operations) was an innovative computer-based education system developed at the University of Illinois at Urbana-Champaign in the 1960s. It allowed students to interact with course materials on a computer, providing them with immediate feedback and personalized instruction. The system was ahead of its time, and its influence can still be seen today in the widespread use of educational technology in classrooms around the world.</p>    
//     <p>If you're interested in learning more about the history of PLATO, you can check out the University of Illinois's online archive:</p>
//     <p><a href="https://archives.library.illinois.edu/blog/university-archives/the-history-of-plato-the-worlds-first-computer-based-education-system/">https://archives.library.illinois.edu/blog/university-archives/the-history-of-plato-the-worlds-first-computer-based-education-system/</a></p>
//     `,
//     'BCL': `
//     <h2>Biological Computer Lab</h2>
//     <p>The Biological Computer Laboratory (BCL) was a research laboratory at the University of Illinois at Urbana-Champaign from 1958 to 1974. It was founded by Heinz von Foerster, a professor of electrical engineering, and was one of the first institutions to study cybernetics, the science of communication and control in animals and machines. The lab was home to many influential researchers, including Gordon Pask, Humberto Maturana, and Francisco Varela. 
//         It was also the birthplace of the field of artificial life, which studies how living organisms can be simulated on computers.</p>
// `,
//     'PROTOTYPE': `
//     <h2>PROTOTYPE</h2>
//     <p>This is a short bio where I would include I personally like. What I find cool and interesting. Not too long, beautiful language, and to the point.</p>
//     <div class="carousel">
//         <img src="https://farm5.static.flickr.com/4062/4675632404_865253d332.jpg" alt="image 2">
//     </div>
 
//     <br />
//     <div class="button-container">
//   <button class="button street-view" onclick="window.open('https://example.com/', '_blank', 'noopener,noreferrer')">Street View</button>
//   <button class="button learn-more">Learn More</button>
// </div>

  
//     `,


// // []Title
// // [] Quick summary
//     // [] Learn more (link)
// // [] Link Photos --> 3 Photos
// // Future --> Connections to Present Researchers
// // [] Street View
// // Learn more






// };


//     // function to create a marker with an IMAGE URL
// function createMarker(imageUrl, lng, lat, key) {
//     const popup = new mapboxgl.Popup({ offset: 25 }).setHTML(popupContent[key]);

//     const el = document.createElement('div');
//     el.style.backgroundImage = `url(${imageUrl})`;
//     el.style.backgroundSize = 'cover';
//     el.style.width = '60px';
//     el.style.height = '60px';
//     el.style.borderRadius = '50%';
//     el.style.cursor = 'pointer';


//     new mapboxgl.Marker(el)
//         .setLngLat([lng, lat])
//         .setPopup(popup)
//         .addTo(map);
// }


// // PLATO
// createMarker('https://web.archive.org/web/20230430061140/https://upload.wikimedia.org/wikipedia/commons/e/ed/Platovterm1981.jpg', -88.22622861503689, 40.11211263718405, 'PLATO');

// // BCL
// createMarker('https://web.archive.org/web/20230506232336/https://spinelessbooks.com/wholeuniversity/cover.jpg', -88.22725755546287, 40.11145222627547, 'BCL');

// // PROTOTYPE

// createMarker('https://www.juandavidcampolargo.com/images/starthere-photo.png', -88.2271436841917, 40.108160345635575, 'PROTOTYPE');

// // Alumni Paul Schoeder

// // Mosaic







//  map.on('style.load', () => {

//     const layers = map.getStyle().layers;
//   const labelLayerId = layers.find(
//     (layer) => layer.type === 'symbol' && layer.layout['text-field']
//   ).id;

//   // 3D Feature
//     map.addLayer(
//         {
//             'id': 'add-3d-buildings',
//             'source': 'composite',
//             'source-layer': 'building',
//             'filter': ['==', 'extrude', 'true'],
//             'type': 'fill-extrusion',
//             'minzoom': 15,
//             'paint': {
//                 'fill-extrusion-color': '#aaa',

//                 // Use an 'interpolate' expression to
//                 // add a smooth transition effect to
//                 // the buildings as the user zooms in.
//                 'fill-extrusion-height': [
//                     'interpolate',
//                     ['linear'],
//                     ['zoom'],
//                     15,
//                     0,
//                     15.05,
//                     ['get', 'height']
//                 ],
//                 'fill-extrusion-base': [
//                     'interpolate',
//                     ['linear'],
//                     ['zoom'],
//                     15,
//                     0,
//                     15.05,
//                     ['get', 'min_height']
//                 ],
//                 'fill-extrusion-opacity': 0.6
//             }
//         },
//         labelLayerId
//     );

// });





</script>

</body>
</html>